function send(event,context,responseStatus,reason,responseData,physicalResourceId){var responseBody=JSON.stringify({Status:responseStatus,Reason:reason,PhysicalResourceId:physicalResourceId||context.logStreamName,StackId:event.StackId,RequestId:event.RequestId,LogicalResourceId:event.LogicalResourceId,Data:responseData});console.log("Response body:\n",responseBody);var https=require("https"),parsedUrl=require("url").parse(event.ResponseURL),options={hostname:parsedUrl.hostname,port:443,path:parsedUrl.path,method:"PUT",headers:{"content-type":"","content-length":responseBody.length}},request=https.request(options,function(response){console.log("Status code: "+response.statusCode),console.log("Status message: "+response.statusMessage),context.done()});request.on("error",function(error){console.log("send(..) failed executing https.request(..): "+error),context.done()}),request.write(responseBody),request.end()}exports.handler=function(event,context,callback){console.log(JSON.stringify(event,null,2)),send(event,context,"FAILED",event.ResourceProperties.reason)};